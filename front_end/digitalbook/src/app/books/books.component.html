<!--Search Book Section-->
<div class="container mb-4">
    <div class="row">
      <div class="col-md-6 mx-auto mt-3 pt-5">
        <div class="card shadow-lg rounded border-danger">
          <div class="card-header text-center text-center bg-danger text-white">
            <h1>Search Book</h1>
          </div>
          <div class="card-body">
            <form [formGroup]="searchBookForm" (submit)="onSubmit()">
              <div class="form-group row">
                <div class="col-sm-6">
                    <input type='text'
                    formControlName="category" class='form-control' [ngClass]="{ 'is-invalid': submitted && f['category'].errors }" required placeholder="Category of the book" />
                    <div *ngIf="submitted && f['category'].errors" class="invalid-feedback">
                      <div *ngIf="f['category'].errors['required']">Category is required</div>
                  </div>
                <div class="col-sm-6">
                    <input type='text'
                    formControlName="title" class='form-control' [ngClass]="{ 'is-invalid': submitted && f['title'].errors }" required placeholder="Title of the book" />
                    <div *ngIf="submitted && f['title'].errors" class="invalid-feedback">
                      <div *ngIf="f['title'].errors['required']">Tilte is required</div>
                  </div>
                </div>
                <div class="col-sm-6">
                  <input type="text" formControlName="author" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['author'].errors }" placeholder="Author of the book">
                  <div *ngIf="submitted && f['author'].errors" class="invalid-feedback">
                    <div *ngIf="f['author'].errors['required']">Author name is required</div>
                </div>
                </div>
              </div>
              <div class="form-group">
                <div>
                    <input type='text' formControlName="publisher" class='form-control' [ngClass]="{ 'is-invalid': submitted && f['publisher'].errors }" required placeholder="Publisher of the book"/>
                    <div *ngIf="submitted && f['publisher'].errors" class="invalid-feedback">
                      <div *ngIf="f['publisher'].errors['required']">Publisher is required</div>
                  </div>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-6">
                  <input type='number' formControlName="price" class='form-control' [ngClass]="{ 'is-invalid': submitted && f['price'].errors }" required placeholder="Price of the book"/>
                  <div *ngIf="submitted && f['price'].errors" class="invalid-feedback">
                    <div *ngIf="f['price'].errors['required']">Price is required</div>
                   
                </div>
                </div>
                

              </div>


              <div class="row">
                <div class="col-sm-5 mx-auto">
                    <input type="submit" [disabled]="loading" class='btn btn-outline-primary btn-block btn-lg' value='Seach' id='search' />
                </div>
                {{status}}
              </div>
              <div class="row">
              </div>
              </div>
              
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  
<!-- Search Result-->
<!--Search Book Section-->
<div class="container mb-4" *ngIf="gotSerachResult">
  <div class="row">
    <div class="col-md-6 mx-auto mt-3 pt-5">
      <div class="card shadow-lg rounded border-danger">
        <div class="card-header text-center text-center bg-danger text-white">
          <h1>Searched Result</h1>
        </div>
        <div class="card-body">
          <img id="myimage" [src]='thumbnail' />
        </div>
        <div>
         <p>{{searchedData.title}}</p> 
        </div>
        <div>
          <p>{{searchedData.category}}</p>
        </div>
        <div>
         <p>{{searchedData.price}}</p> 
        </div>
        <div  class="container mb-4">

          <button *ngIf="currentUser!=null" (click)="subscribe(searchedData.id)" class="btn btn-primary">Subscribe</button>
          <p *ngIf="subscriptionData!=null">{{subscriptionData.message}}</p>
         <p *ngIf="subrcriptionError!=null"> {{subrcriptionError}}</p> 
        </div>
      </div>
    </div>
  </div>
</div>


